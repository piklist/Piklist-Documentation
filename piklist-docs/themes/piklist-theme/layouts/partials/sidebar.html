<div class="col-md-3 col-lg-2 pl-0">

	<nav class="navbar-light">
		<title>Piklist</title>
		<a class="navbar-brand" href="/">
			<img src="{{ relURL "/logo-with-doc.png" }}" />
		</a>
		<button class="navbar-toggler collapsed" type="button"
			data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav ml-auto">
				{{ $currentPage := . }}
				{{ range .Site.Menus.main }}
				<li
					class="navbar-item {{if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }} active{{end}}">
					<a class="nav-link" href="{{ .URL }}" title="{{ .Title }}">{{ .Name }}</a>
				</li>
				{{ end }}
			</ul>
		</div>
	</nav>

	<nav id="sidebarMenu" class="border-right col-lg-12 d-md-block sidebar collapse pl-0">
		<div class="sidebar-sticky pt-3">
			<button id="search-button" type="button" class="btn btn-light col-11 pt-1 pb-1 mb-3 ml-3" data-toggle="modal" data-target="#search-modal"><span class="text-left"><i class="fas fa-search "></i></span> Find anything</button>
			{{- partial "menu.html" . -}}
		</div>
	</nav>

</div>

<!-- Search Modal -->
  <div id="search-modal" class="modal" tabindex="-1" role="dialog">
	<div class="modal-dialog">
	  <div class="modal-content">
		<div class="modal-header">
			<input id="searchInput" style="font-family: FontAwesome 5 Free;" class="form-control form-control-dark w-100 col-lg-12" type="search" placeholder='Go to...'
			aria-label="Search" tabindex="999">
		</div>
		<div class="modal-body">
			<ul id="search-results">
			</ul>
		</div>
		<div class="modal-footer bg-light pt-0 pb-0">
		 	<code>[tab] <i class="fas fa-exchange-alt"></i></code> Navigate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>[enter] <i class="fas fa-share" data-fa-transform="flip-v flip-h"></i></code> Go
		</div>
	  </div>
	</div>
  </div>

	<script>
		// Make sure modal input is in focus when modal is active
		$(document).ready(function(){
			$("#search-modal").on('shown.bs.modal', function(){
				$(this).find('#searchInput').focus();
			});
		});
	</script>